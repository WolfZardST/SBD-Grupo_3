-- HECHO EN REPL.IT

-- PARA WORKBENCH: CREATE SCHEMA APOYAME;
-- PARA WORKBENCH: USE APOYAME;

CREATE TABLE USUARIO(
NICKNAME VARCHAR(50) NOT NULL,
NOMBRE VARCHAR(50) NOT NULL,
EMAIL VARCHAR(50) NOT NULL,
CONTRASEÑA VARCHAR(50) NOT NULL CONSTRAINT pass CHECK(CONTRASEÑA LIKE '______%'),
PRIMARY KEY (NICKNAME)
);
--R1
INSERT INTO USUARIO VALUES("HugoX", "Hugo Fernando", "elhugox@hotmail.com", "q1w2e3");
--R2
INSERT INTO USUARIO VALUES("Samsville", "Samantha Sánchez", "samsville@gmail.com", "kilobolo10");
--R3
INSERT INTO USUARIO VALUES("JGorGG", "Henry Quinionez", "JGorGG@hotmail.com", "ZXASQW12");
--R4
INSERT INTO USUARIO VALUES("WolfZard", "Giancarlo Carvajal", "reloaded1100@gmail.com", "tutankamon");
--R5
INSERT INTO USUARIO VALUES("MariYas", "María Hernández", "marimeri@hotmail.com", "gorki9912");

SELECT * FROM USUARIO;
.print "\n"

CREATE TABLE TEMA(
NOMBRE VARCHAR(50) NOT NULL,
F_CREACION VARCHAR(50) NOT NULL,
NUM_ENTRADAS INT NOT NULL,
NICKNAME_CREADOR VARCHAR(50),
PRIMARY KEY (NOMBRE, F_CREACION, NICKNAME_CREADOR),
FOREIGN KEY (NICKNAME_CREADOR) REFERENCES USUARIO(NICKNAME)
);

--R1
INSERT INTO TEMA VALUES("Tema 1","2021-05-31",100,"HugoX");
--R2
INSERT INTO TEMA VALUES("Tema 2","2019-06-21",50,"JGorGG");
--R3
INSERT INTO TEMA VALUES("Tema 3","2021-07-01",75,"Samsville");
--R4
INSERT INTO TEMA VALUES("Tema 4","2020-08-10",32,"WolfZard");
--R5 ª
INSERT INTO TEMA VALUES("Tema 5","2021-09-15",40,"MariYas");

SELECT * FROM TEMA;
.print "\n"

CREATE TABLE GRUPO(
NOMBRE VARCHAR(50) NOT NULL,
DESCRIPCION VARCHAR(150) NOT NULL,
CATEGORIA VARCHAR(50) NOT NULL,
PRIMARY KEY (NOMBRE)
);

--R1
INSERT INTO GRUPO VALUES ("TODOS CONTRA EL BULLING","EN ESTE GUPO SE ENCUENTRAN TEMAS RELACIONADOS CON EL BULLING","BULLING");
--R2
INSERT INTO GRUPO VALUES ("APOYO CONTRA EL ABUSO","GRUPO EN DONDE SE APOYA KLAS PERSONAS QUE SUFREN DE ABUSO","ABUSO");
--R3
INSERT INTO GRUPO VALUES ("TOD@S CONTRA EL ABUSO EN EL COLEGIO","COSAS QUE PUEDES HACER EN EL COLEGIO EN CASO QUE SUFRAS ALGUN TIPO DE ABUSP","ABUSO");
--R4
INSERT INTO GRUPO VALUES ("BULLING EN COLEGIO","EN ESTE GRUPOS ENCONTRARAS MEDIDAS QUE PUEDES TOMAR EN CASO DE QUE SUFRAS DE BULLING EN EL COLEGIO","BULLING");
--R5
INSERT INTO GRUPO VALUES ("¿QUE HACER EN CONTRA DEL BULLING?","GRUPO EN DONDE COMENTAN SITUACIONES EN DONDE LAS PERSONAS SUFRIERON O SUFREN BULLING, Y QUE HACEN PARA ERRADICARLO","BULLING");

SELECT * FROM GRUPO;
.print "\n"

CREATE TABLE ENTRADA (
AUTOR VARCHAR(50) NOT NULL,
FECHA VARCHAR(30) NOT NULL,
TEMA VARCHAR(150) NOT NULL,
TEXTO TEXT NOT NULL,
PRIMARY KEY(AUTOR, FECHA, TEMA),
FOREIGN KEY(TEMA) REFERENCES TEMA(NOMBRE),
FOREIGN KEY(AUTOR) REFERENCES USUARIO(NICKNAME)
);

--R1
INSERT INTO ENTRADA VALUES("WolfZard", "2021-12-06", "Tema 1", "Creo que sí deberías hacerlo.");
--R2
INSERT INTO ENTRADA VALUES("JGorGG", "2021-10-06", "Tema 2", "Yo tambien creo lo mismo :)");
--R3
INSERT INTO ENTRADA VALUES("Samsville", "2021-06-09", "Tema 3", "¿Y porque no hiciste eso antes de que empeorara el problema?");
--R4
INSERT INTO ENTRADA VALUES("HugoX", "2021-08-13", "Tema 4", "Creeria que ya eata bien asi nomas");
--R5
INSERT INTO ENTRADA VALUES("HugoX", "2019-04-01", "Tema 5", "Deberías tomarlo con más calma.");

SELECT * FROM ENTRADA;
.print "\n"